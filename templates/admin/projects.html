{% extends "admin/dashboard.html" %}

{% block title %}PortfÃ³lio | Admin{% endblock %}

{% block admin_header %}
<h1>ðŸš€ GERENCIAR PORTFÃ“LIO</h1>
<p class="admin-summary">Total: <strong class="text-accent">{{ projects|length }}</strong> projetos publicados</p>
{% endblock %}

{% block admin_header_actions %}
<div class="action-row tight">
    <a href="{{ url_for('create_project') }}" class="btn btn-primary btn-lg">
        <i class="fas fa-plus"></i> Novo Projeto
    </a>
</div>
{% endblock %}

{% block admin_content %}
<div class="admin-grid">
    {% for project in projects %}
    <div class="card admin-card">
        <div class="admin-card-icon">
            <i class="fas fa-{{ project.icon or 'code' }}"></i>
        </div>
        <h3 class="admin-card-title">{{ project.title }}</h3>
        <p class="admin-card-text">{{ project.description }}</p>
        {% if project.image_path %}
        <div class="admin-card-media">
            <img src="{{ url_for('static', filename=project.image_path) }}" alt="Imagem do projeto {{ project.title }}" class="preview-image">
        </div>
        {% endif %}
        {% if project.tech_stack %}
        <div class="tag-list">
            {% for tech in project.tech_stack.split(',') %}
            <span class="tag-pill">
                {{ tech.strip() }}
            </span>
            {% endfor %}
        </div>
        {% endif %}
        <div class="action-row tight center wrap">
            <a href="{{ url_for('edit_project', project_id=project.id) }}" class="btn btn-secondary btn-md">
                <i class="fas fa-edit"></i> Editar
            </a>
            <form method="POST" action="{{ url_for('delete_project', project_id=project.id) }}" class="inline-form">
                <button type="submit" class="btn btn-secondary logout-btn btn-md" onclick="return confirm('Tem certeza que deseja excluir este projeto?')">
                    <i class="fas fa-trash"></i> Excluir
                </button>
            </form>
        </div>
    </div>
    {% else %}
    <div class="card admin-empty-card grid-span-all">
        <i class="fas fa-folder-open admin-empty-icon"></i>
        <h2 class="admin-empty-title">Nenhum Projeto Adicionado</h2>
        <p class="admin-empty-text">Adicione projetos ao seu portfÃ³lio</p>
        <a href="{{ url_for('create_project') }}" class="btn btn-primary btn-lg">
            <i class="fas fa-plus"></i> ADICIONAR PRIMEIRO PROJETO
        </a>
    </div>
    {% endfor %}
</div>
{% endblock %}